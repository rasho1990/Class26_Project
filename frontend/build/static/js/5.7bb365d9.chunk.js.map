{"version":3,"sources":["shared/components/UIElements/Card.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","shared/utils/validators.js","shared/hooks/form-hook.js","shared/components/FormElements/Input.js","shared/components/FormElements/ImageUpload.js","users/components/AuthForm.js","users/pages/AuthPage.js"],"names":["Card","className","style","children","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","value","configurable","writable","VALIDATOR_REQUIRE","type","VALIDATOR_MINLENGTH","val","VALIDATOR_EMAIL","validate","validators","isValid","validator","trim","test","formReducer","state","action","inputs","formIsValid","inputId","useForm","initInputs","initFormValidity","INITIAL_FORM_STATE","useReducer","formState","dispatch","useCallback","formData","inputReducer","isTouched","Input","element","label","id","placeholder","rows","errorText","onInputChange","INITIAL_INPUT","initValue","initIsValid","inputState","changeHandler","event","touchHandler","useEffect","inputEl","onBlur","onChange","htmlFor","ImageUpload","centered","imageUploaderRef","useRef","useState","file","setFile","previewImageUrl","setPreviewImageUrl","setIsValid","fileReader","FileReader","onload","result","readAsDataURL","ref","display","accept","uploadedFile","fileIsValid","files","src","alt","onClick","current","click","AuthForm","isLoginMode","inputHandler","authSubmitHandler","onSubmit","Button","disabled","AuthPage","useContext","AuthContext","login","isLoggedIn","userId","email","password","setFormData","setIsLoginMode","useHttpRequest","isLoading","error","clearError","sendRequest","ErrorModal","onClear","LoadingSpinner","asOverlay","e","a","async","preventDefault","name","image","body","request","method","headers","JSON","stringify","responseData","token","console","log","FormData","append","inverse","undefined","prevState"],"mappings":"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","file":"static/js/5.7bb365d9.chunk.js","sourcesContent":["import React from 'react';\n\nimport './Card.css';\n\nconst Card = ({ className, style, children }) => {\n\treturn (\n\t\t<div className={`card ${className}`} style={style}>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport default Card;\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n\ttype: VALIDATOR_TYPE_MINLENGTH,\n\tval: val,\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n\ttype: VALIDATOR_TYPE_MAXLENGTH,\n\tval: val,\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n\tlet isValid = true;\n\tfor (const validator of validators) {\n\t\tif (validator.type === VALIDATOR_TYPE_REQUIRE) {\n\t\t\tisValid = isValid && value.trim().length > 0;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n\t\t\tisValid = isValid && value.trim().length >= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n\t\t\tisValid = isValid && value.trim().length <= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MIN) {\n\t\t\tisValid = isValid && +value >= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_MAX) {\n\t\t\tisValid = isValid && +value <= validator.val;\n\t\t}\n\t\tif (validator.type === VALIDATOR_TYPE_EMAIL) {\n\t\t\tisValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n\t\t}\n\t}\n\treturn isValid;\n};\n","import { useReducer, useCallback } from \"react\";\n\nconst formReducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_FORM_DATA\":\n      return {\n        ...state,\n        inputs: {\n          ...action.inputs\n        },\n        isValid: action.isValid\n      };\n    case \"INPUT_CHANGE\":\n      let formIsValid = true;\n      // Loop through input fields by id\n      for (const inputId in state.inputs) {\n        if (!state.inputs[inputId]) {\n          // If the field is undefined, continue with next object key\n          continue;\n        }\n        if (inputId === action.inputId) {\n          // If a field is updated, only make form valid if that input field is valid as well\n          formIsValid = formIsValid && action.isValid;\n        } else {\n          // Else reset the key to the already stored state value\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\n        }\n      }\n      return {\n        ...state,\n        inputs: {\n          ...state.inputs,\n          [action.inputId]: {\n            value: action.value,\n            isValid: action.isValid\n          }\n        },\n        isValid: formIsValid\n      };\n    default:\n      return state;\n  }\n};\n\nconst useForm = (initInputs, initFormValidity) => {\n  const INITIAL_FORM_STATE = {\n    inputs: initInputs,\n    isValid: initFormValidity\n  };\n\n  const [formState, dispatch] = useReducer(formReducer, INITIAL_FORM_STATE);\n\n  // Brings state up from child component\n  const inputHandler = useCallback((inputId, value, isValid) => {\n    dispatch({ type: \"INPUT_CHANGE\", inputId, value, isValid });\n  }, []);\n\n  const setFormData = useCallback((formData, formIsValid) => {\n    dispatch({\n      type: \"SET_FORM_DATA\",\n      inputs: formData,\n      isValid: formIsValid\n    });\n  }, []);\n\n  return [formState, inputHandler, setFormData];\n};\n\nexport default useForm;\n","import React, { useReducer, useEffect } from 'react';\n\nimport { validate } from '../../utils/validators';\nimport './Input.css';\n\nconst inputReducer = (state, action) => {\n\t// Works just like Redux\n\tswitch (action.type) {\n\t\tcase 'CHANGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tvalue: action.value,\n\t\t\t\tisValid: validate(action.value, action.validators),\n\t\t\t};\n\t\tcase 'TOUCH':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisTouched: true,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nconst Input = ({\n\telement,\n\tlabel,\n\tid,\n\ttype,\n\tplaceholder,\n\trows,\n\terrorText,\n\tvalidators,\n\tonInputChange,\n\tinitValue,\n\tinitIsValid,\n}) => {\n\tconst INITIAL_INPUT = {\n\t\tvalue: initValue || '',\n\t\tisValid: initIsValid || false,\n\t\tisTouched: false,\n\t};\n\tconst [inputState, dispatch] = useReducer(inputReducer, INITIAL_INPUT);\n\n\tconst changeHandler = event => {\n\t\tdispatch({ type: 'CHANGE', value: event.target.value, validators });\n\t};\n\n\tconst touchHandler = () => {\n\t\tdispatch({ type: 'TOUCH' });\n\t};\n\n\tuseEffect(() => {\n\t\tonInputChange(id, inputState.value, inputState.isValid);\n\t}, [id, onInputChange, inputState.value, inputState.isValid]);\n\n\tconst inputEl =\n\t\telement === 'input' ? (\n\t\t\t<input\n\t\t\t\tid={id}\n\t\t\t\ttype={type}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tonBlur={touchHandler}\n\t\t\t\tonChange={changeHandler}\n\t\t\t\tvalue={inputState.value}\n\t\t\t/>\n\t\t) : (\n\t\t\t<textarea\n\t\t\t\tid={id}\n\t\t\t\trows={rows || 3}\n\t\t\t\tonBlur={touchHandler}\n\t\t\t\tonChange={changeHandler}\n\t\t\t\tvalue={inputState.value}\n\t\t\t/>\n\t\t);\n\n\treturn (\n\t\t<div className={`form-control ${!inputState.isValid && inputState.isTouched && 'form-control--invalid'}`}>\n\t\t\t<label htmlFor={id}>{label}</label>\n\t\t\t{inputEl}\n\t\t\t{!inputState.isValid && inputState.isTouched && <p>{errorText}</p>}\n\t\t</div>\n\t);\n};\n\nexport default Input;\n","import React, { useState, useRef, useEffect } from 'react';\n\nimport Button from './Button';\n\nimport './ImageUpload.css';\n\nconst ImageUpload = ({ id, centered, onInputChange }) => {\n  const imageUploaderRef = useRef();\n  const [file, setFile] = useState();\n  const [previewImageUrl, setPreviewImageUrl] = useState('');\n  const [isValid, setIsValid] = useState(false);\n\n  const uploadedHandler = (event) => {\n    let uploadedFile;\n    let fileIsValid = isValid;\n    // First check if there are files uploaded\n    if (event.target.files && event.target.files.length === 1) {\n      uploadedFile = event.target.files[0];\n      setFile(uploadedFile);\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      // If there's no valid image uploaded\n      setIsValid(false);\n      fileIsValid = false;\n    }\n    onInputChange(id, uploadedFile, fileIsValid);\n  };\n\n  const uploadImageHandler = () => {\n    // Allows for image to be uploaded, taken from input DOM element\n    imageUploaderRef.current.click();\n  };\n\n  useEffect(() => {\n    // First check if file is undefined\n    if (!file) {\n      return;\n    }\n    const fileReader = new FileReader(); // Browser defined API that helps read files\n\n    // Whenever fileReader loads a new file, it executes the specified anon function\n    fileReader.onload = () => {\n      // Set image URL to state\n      setPreviewImageUrl(fileReader.result);\n    };\n    fileReader.readAsDataURL(file);\n  }, [file]);\n\n  return (\n    <div className=\"form-control\">\n      {/* Hide input field for better user experience, connect Button to input functionality */}\n      <input\n        id={id}\n        ref={imageUploaderRef}\n        style={{ display: 'none' }}\n        type=\"file\"\n        accept=\".jpg,.png,.jpeg\"\n        onChange={uploadedHandler}\n      />\n      <div className={`image-upload ${centered && 'center'}`}>\n        <div className=\"image-upload__preview\">\n          {previewImageUrl ? (\n            <img src={previewImageUrl} alt=\"Preview Image\" />\n          ) : (\n            'Please upload an image!'\n          )}\n        </div>\n        <Button type=\"button\" onClick={uploadImageHandler}>\n          UPLOAD IMAGE\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageUpload;\n","import React from 'react';\n\nimport {\n  VALIDATOR_REQUIRE,\n  VALIDATOR_MINLENGTH,\n  VALIDATOR_EMAIL,\n} from './../../shared/utils/validators';\n\nimport Input from './../../shared/components/FormElements/Input';\nimport Button from './../../shared/components/FormElements/Button';\nimport ImageUpload from './../../shared/components/FormElements/ImageUpload';\n\nimport './AuthForm.css';\n\nconst AuthForm = ({\n  isLoginMode,\n  formState,\n  inputHandler,\n  authSubmitHandler,\n}) => {\n  return (\n    <form onSubmit={authSubmitHandler}>\n      {!isLoginMode && (\n        <Input\n          element=\"input\"\n          id=\"name\"\n          type=\"text\"\n          placeholder=\"Your Name\"\n          label=\"Your Name\"\n          errorText=\"Your name is required!\"\n          validators={[VALIDATOR_REQUIRE()]}\n          onInputChange={inputHandler}\n        />\n      )}\n\n      <Input\n        id=\"email\"\n        element=\"input\"\n        type=\"email\"\n        placeholder=\"Your Email\"\n        label=\"Email\"\n        errorText=\"Please enter a valid email!\"\n        validators={[VALIDATOR_REQUIRE(), VALIDATOR_EMAIL()]}\n        onInputChange={inputHandler}\n      />\n      <Input\n        id=\"password\"\n        element=\"input\"\n        type=\"password\"\n        placeholder=\"Your Password\"\n        label=\"Password\"\n        errorText=\"Please enter a valid password, at least 5 characters!\"\n        validators={[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH(5)]}\n        onInputChange={inputHandler}\n      />\n      {!isLoginMode && (\n        <ImageUpload id=\"image\" centered=\"true\" onInputChange={inputHandler} />\n      )}\n      <Button type=\"submit\" disabled={!formState.isValid}>\n        {isLoginMode ? 'Login' : 'Signup'}\n      </Button>\n    </form>\n  );\n};\n\nexport default AuthForm;\n","import React, { useState, useContext, Fragment } from 'react';\nimport useForm from './../../shared/hooks/form-hook';\nimport useHttpRequest from './../../shared/hooks/http-hook';\n\nimport AuthContext from './../../shared/context/auth-context';\n\nimport Card from './../../shared/components/UIElements/Card';\nimport AuthForm from './../components/AuthForm';\nimport Button from './../../shared/components/FormElements/Button';\nimport LoadingSpinner from './../../shared/components/UIElements/LoadingSpinner';\nimport ErrorModal from './../../shared/components/UIElements/Modal/ErrorModal';\n\nconst AuthPage = () => {\n  const { isLoggedIn, login, userId } = useContext(AuthContext);\n\n  const INITIAL_INPUTS = {\n    email: {\n      value: '',\n      isValid: false,\n    },\n    password: {\n      value: '',\n      isValid: false,\n    },\n  };\n\n  const [formState, inputHandler, setFormData] = useForm(INITIAL_INPUTS, false);\n  const [isLoginMode, setIsLoginMode] = useState(true);\n  const { isLoading, error, clearError, sendRequest } = useHttpRequest();\n\n  const authSubmitHandler = async (e) => {\n    e.preventDefault();\n\n    const { name, email, password, image } = formState.inputs;\n\n    if (isLoginMode) {\n      const url = '/api/users/login';\n\n      const body = {\n        email: email.value,\n        password: password.value,\n      };\n\n      const request = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      };\n\n      try {\n        const responseData = await sendRequest(\n          url,\n          request.method,\n          request.body,\n          request.headers\n        );\n\n        login(responseData.userId, responseData.token);\n      } catch (err) {\n        console.log('Error at login!', err);\n      }\n    } else {\n      const url = '/api/users/signup';\n\n      // Create FormData instance to send binary data\n      const formData = new FormData();\n\n      formData.append('name', name.value);\n      formData.append('email', email.value);\n      formData.append('password', password.value);\n      formData.append('image', image.value);\n\n      const request = {\n        method: 'POST',\n        headers: {},\n        body: formData,\n      };\n\n      try {\n        const responseData = await sendRequest(\n          url,\n          request.method,\n          request.body,\n          request.headers\n        );\n\n        login(responseData.userId, responseData.token);\n      } catch (err) {\n        console.log('Error at signup!', err);\n      }\n    }\n  };\n\n  const switchModeHandler = () => {\n    if (!isLoginMode) {\n      setFormData(\n        {\n          // Make copy of prev formState\n          ...formState.inputs,\n          // Set name field to undefined, so the form validator can continue\n          name: undefined,\n          image: undefined,\n        },\n        formState.inputs.email.isValid && formState.inputs.password.isValid\n      );\n    } else {\n      setFormData(\n        {\n          ...formState.inputs,\n          name: {\n            value: '',\n            isValid: false,\n          },\n          image: {\n            value: null,\n            isValid: false,\n          },\n        },\n        false\n      );\n    }\n    setIsLoginMode((prevState) => !prevState);\n  };\n\n  return (\n    <Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      <Card className=\"authentication\">\n        {isLoading && <LoadingSpinner asOverlay />}\n        <h2>Authentication Required!</h2>\n        <hr />\n        <AuthForm\n          formState={formState}\n          inputHandler={inputHandler}\n          authSubmitHandler={authSubmitHandler}\n          isLoginMode={isLoginMode}\n        />\n        <Button inverse onClick={switchModeHandler}>\n          SWITCH TO {isLoginMode ? 'SIGNUP' : 'LOGIN'}\n        </Button>\n      </Card>\n    </Fragment>\n  );\n};\n\nexport default AuthPage;\n"],"sourceRoot":""}