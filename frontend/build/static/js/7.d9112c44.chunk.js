(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{43:function(e,a,t){"use strict";var n=t(0),c=t.n(n);t(48);a.a=function(e){var a=e.className,t=e.style,n=e.children;return c.a.createElement("div",{className:"card ".concat(a),style:t},n)}},48:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(47),c=t.n(n),r=t(10),l=t(0),o=t.n(l),s=t(8),i=t(11),u=t(50),m=t(15),d=t(49),E=t(43),p=t(42),f=t(58),h=(t(66),function(e){var a=e.className,t=e.style,n=e.center,c=e.zoom,r=Object(l.useRef)();return Object(l.useEffect)((function(){var e=new window.google.maps.Map(r.current,{center:n,zoom:c});new window.google.maps.Marker({position:n,map:e})}),[n,c]),o.a.createElement("div",{ref:r,className:"map ".concat(a),style:t})}),v=(t(67),function(e){var a=e.image,t=e.title,n=e.description,s=e.address,v=e.placeId,g=e.coordinates,b=e.onDeletePlace,w=e.creatorId,C=Object(l.useContext)(i.a),O=C.isLoggedIn,N=C.userId,y=C.token,j=Object(d.a)(),_=j.isLoading,k=j.error,I=j.clearError,D=j.sendRequest,L=Object(l.useState)(!1),x=Object(r.a)(L,2),P=x[0],R=x[1],S=Object(l.useState)(!1),T=Object(r.a)(S,2),z=T[0],A=T[1],F=function(){return R(!1)},M=function(){return A(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{error:k,onClear:I}),o.a.createElement(f.a,{show:P,onCancel:F,header:s,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:o.a.createElement(p.a,{onClick:F},"CLOSE")},o.a.createElement("div",{className:"map-container"},o.a.createElement(h,{center:g,zoom:16}))),o.a.createElement(f.a,{show:z,onCancel:M,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{onClick:M,inverse:!0},"CANCEL"),o.a.createElement(p.a,{onClick:function(){return function(e){var a,t,n,r;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a="/api/places/".concat(e),t={},n={Authorization:"Bearer ".concat(y)},r={method:"DELETE",body:t,headers:n},l.prev=4,l.next=7,c.a.awrap(D(a,r.method,r.body,r.headers));case 7:l.next=12;break;case 9:l.prev=9,l.t0=l.catch(4),console.log("Error while deleting place!",l.t0);case 12:A(!1),b(e);case 14:case"end":return l.stop()}}),null,null,[[4,9]])}(v)},danger:!0},"DELETE"))},o.a.createElement("p",null,"Do you really want to delete this place? This action is IRREVERSIBLE!")),o.a.createElement("li",{className:"place-item"},o.a.createElement(E.a,{className:"place-item__content"},_&&o.a.createElement(m.a,{asOverlay:!0}),o.a.createElement("div",{className:"place-item__image"},o.a.createElement("img",{src:"http://localhost:5000/".concat(a),alt:t})),o.a.createElement("div",{className:"place-item__info"},o.a.createElement("h2",null,t),o.a.createElement("h3",null,s),o.a.createElement("p",null,n)),o.a.createElement("div",{className:"place-item__actions"},o.a.createElement(p.a,{onClick:function(){return R(!0)},inverse:!0},"VIEW ON MAP"),O&&o.a.createElement(l.Fragment,null,w===N&&o.a.createElement(p.a,{to:"/places/".concat(v)},"EDIT"),w===N&&o.a.createElement(p.a,{onClick:function(){return A(!0)},danger:!0},"DELETE"))))))}),g=(t(68),function(e){var a=e.items,t=e.onDeletePlace;return 0===a.length?o.a.createElement("div",{className:"place-list center"},o.a.createElement(E.a,null,o.a.createElement("h2",null,"No places found. Maybe create one?"),o.a.createElement(p.a,{to:"/places/new"},"Share New Place"))):o.a.createElement("ul",{className:"place-list"},a.map((function(e){return o.a.createElement(v,{key:e.id,placeId:e.id,image:e.image,title:e.title,description:e.description,address:e.address,creatorId:e.creator,coordinates:e.location,onDeletePlace:t})})))});a.default=function(){var e=Object(s.h)().userId,a=Object(l.useContext)(i.a).token,t=Object(l.useState)([]),n=Object(r.a)(t,2),E=n[0],p=n[1],f=Object(d.a)(),h=f.isLoading,v=f.error,b=f.clearError,w=f.sendRequest;Object(l.useEffect)((function(){!function(){var t,n,r;c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,t="/api/places/user/".concat(e),n={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},l.next=5,c.a.awrap(w(t,n.method,null,n.headers));case 5:r=l.sent,p(r),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(0),console.log("Could not get all user places!",l.t0);case 12:case"end":return l.stop()}}),null,null,[[0,9]])}()}),[w]);return o.a.createElement(l.Fragment,null,o.a.createElement(u.a,{error:v,onClear:b}),h&&o.a.createElement(m.a,{asOverlay:!0}),o.a.createElement(g,{items:E,onDeletePlace:function(e){p((function(a){return a.filter((function(a){return a.id!==e}))}))}}))}}}]);
//# sourceMappingURL=7.d9112c44.chunk.js.map